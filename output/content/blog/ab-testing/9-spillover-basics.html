<!DOCTYPE html>
<html class="scroll-smooth" lang="en"><head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Understanding Spillover Effects in Field Experiments</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,400;0,700;1,400&amp;family=Roboto:wght@400;500;700&amp;display=swap" rel="stylesheet"/>
    <!-- Chosen Palette: Warm Neutral (Stone, Slate, Amber) -->
    <!-- Application Structure Plan: The SPA is designed as an interactive learning module that guides the user from problem to solution. It begins by defining the core challenge of spillover effects and the violation of the non-interference assumption using a simple visual diagram. It then introduces the key estimands (Direct, Indirect, Total Effect) in a clear, digestible format. The core of the app is an interactive "Design Toolkit" where users can compare different experimental designs (Cluster, Saturation, Network) using tabs. This is followed by an interactive chart that simulates a saturation experiment, allowing users to see how changing treatment density affects outcomes for both treated and untreated groups. This structure is chosen to make the abstract concepts tangible and to emphasize the importance of experimental design over post-hoc analysis. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Non-interference vs. Interference. Goal: Inform/Organize. Viz/Presentation: Two simple diagrams built with HTML/CSS and Tailwind, showing the difference between an isolated and an interconnected system. Interaction: None needed, it's a static visual. Justification: A simple visual flow is the best way to introduce the core concept. Method: HTML/CSS.
        - Report Info: Experimental Designs (Cluster, Saturation, Network). Goal: Compare/Organize. Viz/Presentation: A set of tabbed cards. Each card contains a description, strengths, and limitations for a design. Interaction: Clicking tabs to switch between design descriptions. Justification: Allows for easy, side-by-side comparison of complex design trade-offs in a single compact space. Method: HTML/CSS with JS.
        - Report Info: Saturation Design Effects (e.g., Miguel & Kremer). Goal: Compare/Relationships. Viz/Presentation: An interactive bar chart. Interaction: Buttons allow the user to select the saturation level (0%, 50%, 100%). The chart updates to show the health outcomes for the "Untreated Group" and "Treated Group" under that scenario. Justification: Makes the abstract concepts of direct and spillover effects concrete and observable. The user can see the spillover effect by watching the outcome of the untreated group change as saturation increases. Library: Chart.js/Canvas.
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Roboto', sans-serif; background-color: #f5f5f4; color: #57534e; }
        h1, h2, h3, h4 { font-family: 'Merriweather', serif; color: #1c1917; }
        .nav-link { transition: color 0.2s; }
        .nav-link:hover, .nav-link.active { color: #f59e0b; }
        .card { background-color: white; border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05); padding: 1.5rem; border: 1px solid #e7e5e4; }
        .tab { cursor: pointer; padding: 0.75rem 1rem; border-bottom: 2px solid transparent; color: #78716c; }
        .tab.active { color: #475569; border-color: #475569; font-weight: 600;}
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin-left: auto; margin-right: auto; height: 350px; max-height: 400px; }
        .diagram { display: flex; align-items: center; justify-content: center; gap: 1rem; font-family: 'Merriweather', serif; text-align: center; }
        .diagram-node { background-color: #f3f4f6; border: 1px solid #d1d5db; padding: 0.5rem 1rem; border-radius: 0.375rem; font-weight: bold; }
        .diagram-arrow { font-size: 1.5rem; color: #9ca3af; }
    </style>
</head>
<body class="antialiased leading-relaxed">

    <header class="bg-white/95 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <span class="font-bold text-xl text-slate-800 font-serif">When Treatment Spills Over</span>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4" id="nav-menu">
                        <a class="nav-link px-3 py-2 rounded-md text-sm font-semibold" href="#problem">The Problem</a>
                        <a class="nav-link px-3 py-2 rounded-md text-sm font-semibold" href="#designs">Design Toolkit</a>
                        <a class="nav-link px-3 py-2 rounded-md text-sm font-semibold" href="#simulation">Simulation</a>
                        <a class="nav-link px-3 py-2 rounded-md text-sm font-semibold" href="#implications">Implications</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section class="py-16 sm:py-20 lg:py-24" id="problem">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h1 class="text-4xl sm:text-5xl font-bold tracking-tight">The Fiction of the Isolated Subject</h1>
                    <p class="mt-6 max-w-3xl mx-auto text-lg text-slate-600">Real-world experiments often fail a key assumption: treatment's effect on one person doesn't impact others. Interactions happen—word spreads, markets shift, and illness transmits. This **interference**, or **spillover**, can profoundly mislead study outcomes.</p>
                </div>

                <div class="mt-16 grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                    <div class="card">
                        <h3 class="text-xl font-bold text-center">Standard Assumption: No Interference</h3>
                        <p class="text-center text-slate-600 mt-2">Here are a few options, all similar in length:

*   Each person's result is solely based on their assigned treatment.
*   Individual outcomes are determined by their own treatment assignment.
*   A person's result is independent of others, hinging on their treatment.
*   Each person's fate is sealed by their assigned treatment only.
*   Outcomes are individual and strictly linked to treatment received.</p>
                        <div class="my-6 diagram">
                            <div>
                                <div class="diagram-node bg-blue-100 border-blue-300">Treated</div>
                                <div class="diagram-arrow">↓</div>
                                <div class="diagram-node">Outcome A</div>
                            </div>
                            <div>
                                <div class="diagram-node">Untreated</div>
                                <div class="diagram-arrow">↓</div>
                                <div class="diagram-node">Outcome B</div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="text-xl font-bold text-center">Real World: Interference</h3>
                        <p class="text-center text-slate-600 mt-2">Here are a few options, all roughly the same length and meaning:

*   One person's care has a ripple effect on those nearby.
*   The impact of treatment extends to surrounding individuals.
*   The therapy given to one influences those around them.
*   Care for one individual impacts the people in their vicinity.</p>
                        <div class="my-6 diagram">
                            <div>
                                <div class="diagram-node bg-blue-100 border-blue-300">Treated</div>
                                <div class="diagram-arrow">↓</div>
                                <div class="diagram-node">Outcome A</div>
                            </div>
                           <div class="diagram-arrow text-red-400 font-bold text-2xl">→</div>
                            <div>
                                <div class="diagram-node">Untreated</div>
                                <div class="diagram-arrow">↓</div>
                                <div class="diagram-node bg-red-100 border-red-300">Outcome C</div>
                            </div>
                        </div>
                         <p class="text-center text-sm mt-2 text-slate-500">Here are a few options for rewriting the line, all similar in length:

*   Outcome C deviates from B due to spillover effects from the treatment.
*   Outcome C differs from B; this is caused by treatment spillover.
*   The distinction between Outcomes C and B stems from treatment spillover.
*   Outcome C is altered from B by the spillover from the treated unit.
*   Outcome C is distinct from B, with treatment spillover as the cause.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-16 sm:py-20 lg:py-24 bg-white" id="designs">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl font-bold">Experimental Designs for Measuring Spillovers</h2>
                    <p class="mt-4 max-w-3xl mx-auto text-lg text-slate-600">To accurately assess spillover, individual randomization is insufficient. We require experimental designs that directly control treatment at the group level. Investigate the available resources.</p>
                </div>
                <div class="mt-12 max-w-4xl mx-auto">
                    <div class="border-b border-stone-200">
                        <nav aria-label="Tabs" class="-mb-px flex space-x-2 sm:space-x-6 justify-center">
                            <div class="tab active" id="tab-cluster">Cluster Randomization</div>
                            <div class="tab" id="tab-saturation">Saturation Design</div>
                            <div class="tab" id="tab-network">Network Design</div>
                        </nav>
                    </div>
                    <div class="mt-8">
                        <div class="tab-content active card" id="content-cluster">
                            <h3 class="text-xl font-bold">Cluster-Randomized Trial</h3>
                            <p class="mt-3 text-slate-600">Here are a few rewrites of the line, keeping a similar size and conveying the same meaning:

*   **Assign full treatment to entire units (e.g., villages) for straightforward interference control.**
*   **To handle interference, randomly assign whole groups (like villages) to either full treatment or no treatment.**
*   **For interference, randomize complete groups (e.g., schools) to receive 100% or 0% of treatment.**
*   **A simple way to manage interference is to randomize entire groups (e.g., schools) for treatment.**</p>
                            <p class="mt-4"><span class="font-semibold">What it Measures:</span> The **total effect** of the program (direct + spillover).</p>
                            <p class="mt-2"><span class="font-semibold text-red-600">Limitation:</span> Cannot separate the direct effect from the spillover effect.</p>
                        </div>
                        <div class="tab-content card" id="content-saturation">
                            <h3 class="text-xl font-bold">Saturation Design (Two-Stage Randomization)</h3>
                            <p class="mt-3 text-slate-600">Here are a few options, maintaining a similar length and clarity:

1.  **First, choose clusters. Second, randomize treatment *rates* within each (e.g., 0%, 33%, 66%, 100%).**
2.  **Begin by selecting clusters. Next, within each, vary the treatment *percentage* across individuals (e.g., 0%, 33%, 66%, 100%).**
3.  **Firstly, pick clusters. Secondly, inside each, randomize the *fraction* receiving treatment (e.g., 0%, 33%, 66%, 100%).**</p>
                            <p class="mt-4"><span class="font-semibold">What it Measures:</span> This design effectively separates the **direct impact**, the **indirect impact**, and the **overall impact**.</p>
                            <p class="mt-2"><span class="font-semibold text-red-600">Limitation:</span> More complex and costly to implement.</p>
                        </div>
                        <div class="tab-content card" id="content-network">
                            <h3 class="text-xl font-bold">Network-Based Randomization</h3>
                            <p class="mt-3 text-slate-600">Leveraging social network data (e.g., friendship connections), you can randomize treatments to directly manipulate the number of treated connections each individual experiences.</p>
                            <p class="mt-4"><span class="font-semibold">What it Measures:</span> Here are a few options, all similar in length and capturing the essence of the original:

*   Measuring spillover impacts with network proximity (e.g., friend vs. friend-of-friend).
*   Assessing spillover effects via network distance: direct friend versus second-degree connection.
*   Evaluating spillover impacts, considering network distance (like friend vs. friend-of-a-friend).
*   Quantifying spillover based on network connections, such as a direct vs. indirect link.</p>
                             <p class="mt-2"><span class="font-semibold text-red-600">Limitation:</span> Requires detailed, often expensive, pre-existing network data.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-16 sm:py-20 lg:py-24" id="simulation">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl font-bold">Interactive Simulation: A Deworming Program</h2>
                    <p class="mt-4 max-w-3xl mx-auto text-lg text-slate-600">Imagine a public health trial, modeled after historic deworming efforts.  We'll use varied treatment levels in a school to see how this impacts all the children.  Alter the treatment percentage using the buttons and watch the results unfold.</p>
                </div>

                <div class="mt-12 max-w-4xl mx-auto card">
                    <div class="text-center mb-6 flex flex-wrap justify-center gap-2">
                        <button class="chart-btn bg-slate-500 hover:bg-slate-600 text-white font-bold py-2 px-4 rounded-lg transition-colors" data-saturation="0">0% Saturation</button>
                        <button class="chart-btn bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg transition-colors" data-saturation="50">50% Saturation</button>
                        <button class="chart-btn bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition-colors" data-saturation="100">100% Saturation</button>
                    </div>
                    <div class="chart-container">
                        <canvas id="spilloverChart"></canvas>
                    </div>
                     <p class="text-center mt-4 text-sm text-slate-500" id="chart-interpretation">Here are a few options, all similar in length and conveying the same meaning:

*   At 0% saturation, the baseline health score is established; no treatment is given, therefore no impact.

*   With 0% saturation, the starting health score is defined, reflecting no treatment and thus, no observed effects.

*   The baseline health score is found at 0% saturation. Treatment is absent, eliminating any resulting effects.</p>
                </div>
            </div>
        </section>

        <section class="py-16 sm:py-20 lg:py-24 bg-white" id="implications">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                 <div class="text-center">
                    <h2 class="text-3xl font-bold">Why Getting Spillovers Right Matters</h2>
                    <p class="mt-4 max-w-3xl mx-auto text-lg text-slate-600">Here are a few options, all similar in length and meaning:

*   **Understanding spillover matters greatly. It informs both scientific study and policy decisions.**
*   **Assessing spillover's impact is crucial; it shapes science and government strategies.**
*   **The study of spillover has real-world importance, influencing science and policy making.**
*   **Analyzing spillover isn't merely theoretical; it deeply impacts science and public policy.**</p>
                </div>
                <div class="mt-12 grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                    <div class="card">
                        <h3 class="font-bold text-xl text-center">Estimating True Program Impact</h3>
                        <p class="mt-3 text-slate-600">Failing to account for positive impacts (e.g., deworming) **undervalues** a program's gains. Conversely, overlooking negative effects (e.g., market competition) **inflates** them. Both errors give policymakers inaccurate results.</p>
                    </div>
                     <div class="card">
                        <h3 class="font-bold text-xl text-center">Predicting Scalability</h3>
                        <p class="mt-3 text-slate-600">Scaling a program reveals complexities unseen in pilots. Saturation design offers better forecasts by anticipating program-wide effects and predicting ultimate performance.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <html><head></head><body><footer class="bg-gray-800 text-gray-300">
  <div class="container mx-auto px-6 py-12 lg:px-8">
    <div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-4">
      
      <div>
        <h5 class="text-lg font-semibold text-white mb-4">Company</h5>
        <ul class="space-y-2">
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.dataknobs.com/about-dataknobs/">About Us</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.dataknobs.com/products/value-proposition/">Value Proposition</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.dataknobs.com/blog/">Blog</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.dataknobs.com/use-cases/">Use Cases Built</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.dataknobs.com/about-dataknobs/leadership/">Founder</a></li>
        </ul>
      </div>

      <div>
        <h5 class="text-lg font-semibold text-white mb-4">Products</h5>
        <ul class="space-y-2">
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.dataknobs.com/products/kreate/">Kreate</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.dataknobs.com/products/kontrols/">Kontrols</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.dataknobs.com/products/knobs/">Knobs</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.dataknobs.com/use-cases/">Case Studies</a></li>
        </ul>
      </div>

      <div>
        <h5 class="text-lg font-semibold text-white mb-4">Slides Tutorials</h5>
        <ul class="space-y-2">
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.dataknobs.com/generativeai/generative-ai-101-slides.html">GenAI Slides</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.dataknobs.com/agent-ai/tutorials.html">Agent AI Slides</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.dataknobs.com/vector-database/">Vector DB Slides</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.dataknobs.com/generativeai/10-llms/">LLM Slides</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.dataknobs.com/data-products/">Data Product Slides</a></li>
          <li><a class="hover:text-white hover:underline transition-colors duration-200" href="https://www.dataknobs.com/generativeai/10-llms/rag/">RAG Slides</a></li>

          
        </ul>
      </div>

      <div>
        <h5 class="text-lg font-semibold text-white mb-4">Contact Us</h5>
        <div class="space-y-2">
          <p>Redmond<br/>WA, USA</p>
          <p>
            <a class="hover:text-white hover:underline transition-colors duration-200" href="mailto:contact@dataknobs.com">contact@dataknobs.com</a>
          </p>
          <p>
            <a class="hover:text-white hover:underline transition-colors duration-200" href="tel:+14253411222">+1 (425) 341-1222</a>
          </p>
        </div>
      </div>
    </div>

    <div class="mt-12 border-t border-gray-700 pt-8 flex flex-col items-center justify-between sm:flex-row">
      <p class="text-sm text-gray-400">© 2025 Dataknobs, Inc. All rights reserved.</p>
      
      <div class="flex space-x-4 mt-4 sm:mt-0">
        <a class="text-gray-400 hover:text-white transition-colors duration-200" href="https://www.facebook.com/dataknobs/">
          <span class="sr-only">Facebook</span>
          <svg aria-hidden="true" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
            <path clip-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.772-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" fill-rule="evenodd"></path>
          </svg>
        </a>
        <a class="text-gray-400 hover:text-white transition-colors duration-200" href="https://www.twitter.com/dataknobs/">
          <span class="sr-only">Twitter</span>
          <svg aria-hidden="true" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path>
          </svg>
        </a>
        <a class="text-gray-400 hover:text-white transition-colors duration-200" href="https://www.linkedin.com/company/dataknobs/">
          <span class="sr-only">LinkedIn</span>
          <svg aria-hidden="true" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
            <path clip-rule="evenodd" d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.783-1.75-1.75s.784-1.75 1.75-1.75 1.75.783 1.75 1.75-.784 1.75-1.75 1.75zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" fill-rule="evenodd"></path>
          </svg>
        </a>
      </div>
    </div>
  </div>
</footer></body></html>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // Tab functionality
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const targetId = tab.id.replace('tab-', 'content-');
                
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                tabContents.forEach(content => {
                    content.classList.toggle('active', content.id === targetId);
                });
            });
        });

        // Spillover Chart Simulation
        const chartBtns = document.querySelectorAll('.chart-btn');
        const interpretationText = document.getElementById('chart-interpretation');
        const spilloverCtx = document.getElementById('spilloverChart').getContext('2d');
        
        const baseHealth = 50;
        const directEffect = 20; // Health gain from being treated
        const spilloverEffectPer50Pct = 10; // Health gain for everyone per 50% saturation

        const dataScenarios = {
            '0': {
                labels: ['Untreated Group'],
                values: [baseHealth],
                colors: ['#78716c'],
                interpretation: 'Here are a few options, all similar in length and conveying the same meaning:

*   At 0% saturation, the baseline health score is established; no treatment is given, therefore no impact.

*   With 0% saturation, the starting health score is defined, reflecting no treatment and thus, no observed effects.

*   The baseline health score is found at 0% saturation. Treatment is absent, eliminating any resulting effects.'
            },
            '50': {
                labels: ['Untreated Group', 'Treated Group'],
                values: [
                    baseHealth + spilloverEffectPer50Pct, // Untreated get spillover
                    baseHealth + spilloverEffectPer50Pct + directEffect // Treated get spillover + direct effect
                ],
                colors: ['#78716c', '#3b82f6'],
                interpretation: 'At 50% saturation, notice the health of the Untreated Group has improved. This is the Spillover Effect. The Treated Group benefits from both the direct treatment and the spillover.'
            },
            '100': {
                labels: ['Treated Group'],
                values: [baseHealth + (spilloverEffectPer50Pct * 2) + directEffect],
                colors: ['#3b82f6'],
                interpretation: 'At 100% saturation, everyone is treated. The outcome reflects the baseline, the full spillover effect, and the direct effect. This is the Total Effect of the program at scale.'
            }
        };

        const spilloverChart = new Chart(spilloverCtx, {
            type: 'bar',
            data: {
                labels: dataScenarios['0'].labels,
                datasets: [{
                    label: 'Average Health Score',
                    data: dataScenarios['0'].values,
                    backgroundColor: dataScenarios['0'].colors,
                    borderColor: dataScenarios['0'].colors,
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: false,
                        min: 40,
                        max: 100,
                        title: {
                            display: true,
                            text: 'Health Score'
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                         callbacks: {
                            title: function(tooltipItems) { return ''; },
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null) {
                                    label += context.parsed.y.toFixed(1);
                                }
                                return label;
                            }
                        }
                    }
                }
            }
        });

        chartBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const saturation = btn.dataset.saturation;
                const scenario = dataScenarios[saturation];

                spilloverChart.data.labels = scenario.labels;
                spilloverChart.data.datasets[0].data = scenario.values;
                spilloverChart.data.datasets[0].backgroundColor = scenario.colors;
                spilloverChart.data.datasets[0].borderColor = scenario.colors;
                spilloverChart.update();
                
                interpretationText.textContent = scenario.interpretation;
            });
        });
    });
    </script>


</body></html>